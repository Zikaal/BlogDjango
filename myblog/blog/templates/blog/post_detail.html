<!-- templates/post_detail.html -->
{% extends 'base.html' %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
<h1>{{ post.title }}</h1>
<p>{{ post.content }}</p>

<hr>
<h2>Comments</h2>
{% for comment in comments %}
    <div class="card mb-3">
        <div class="card-body">
            <p>{{ comment.content }}</p>
            <footer class="blockquote-footer">By {{ comment.author }} on {{ comment.created_at }}</footer>
        </div>
    </div>
{% endfor %}

<hr>
<h3>Add a comment</h3>
<form method="post">
    {% csrf_token %}
    {{ comment_form.as_p }}
    <button type="submit" class="btn btn-primary">Add Comment</button>
</form>

<hr>
<a class="btn btn-warning" href="{% url 'post_edit' post.pk %}">Edit Post</a>
<a class="btn btn-danger" href="{% url 'post_delete' post.pk %}">Delete Post</a>
<a class="btn btn-secondary" href="{% url 'post_list' %}">Back to List</a>
{% endblock %}
